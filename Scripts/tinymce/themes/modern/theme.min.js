tinymce.ThemeManager.add("modern",function(n){function s(){function e(r){var o=[],e;if(r)return f(r.split(/[ ,]/),function(i){function f(){var t=n.selection;r=="bullist"&&t.selectorChanged("ul > li",function(n,t){for(var r,u=t.parents.length;u--;)if(r=t.parents[u].nodeName,r=="OL"||r=="UL")break;i.active(n&&r=="UL")});r=="numlist"&&t.selectorChanged("ol > li",function(n,t){for(var r,u=t.parents.length;u--;)if(r=t.parents[u].nodeName,r=="OL"||r=="UL")break;i.active(n&&r=="OL")});i.settings.stateSelector&&t.selectorChanged(i.settings.stateSelector,function(n){i.active(n)},!0);i.settings.disabledStateSelector&&t.selectorChanged(i.settings.disabledStateSelector,function(n){i.disabled(n)})}var r;if(i=="|")e=null;else if(u.has(i))i={type:i},t.toolbar_items_size&&(i.size=t.toolbar_items_size),o.push(i),e=null;else if(e||(e={type:"buttongroup",items:[]},o.push(e)),n.buttons[i])if(r=i,i=n.buttons[r],typeof i=="function"&&(i=i()),i.type=i.type||"button",t.toolbar_items_size&&(i.size=t.toolbar_items_size),i=u.create(i),e.items.push(i),n.initialized)f();else n.on("init",f)}),i.push({type:"toolbar",layout:"flow",items:o}),!0}var i=[],r;if(tinymce.isArray(t.toolbar)){if(t.toolbar.length===0)return;tinymce.each(t.toolbar,function(n,i){t["toolbar"+(i+1)]=n});delete t.toolbar}for(r=1;r<10;r++)if(!e(t["toolbar"+r]))break;return i.length||t.toolbar===!1||e(t.toolbar||l),i.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}:void 0}function h(){function c(t){return t=="|"?{text:"|"}:n.menuItems[t]}function l(i){var s,e,r,h,l,u;if(l=tinymce.makeMap((t.removed_menuitems||"").split(/[ ,]/)),t.menu?(e=t.menu[i],h=!0):e=o[i],e){for(s={text:e.title},r=[],f((e.items||"").split(/[ ,]/),function(n){var t=c(n);t&&!l[n]&&r.push(c(n))}),h||f(n.menuItems,function(n){n.context==i&&(n.separator=="before"&&r.push({text:"|"}),n.prependToContext?r.unshift(n):r.push(n),n.separator=="after"&&r.push({text:"|"}))}),u=0;u<r.length;u++)r[u].text=="|"&&(u===0||u==r.length-1)&&r.splice(u,1);if(s.menu=r,!s.menu.length)return null}return s}var r,h=[],e=[],s,u,i;if(t.menu)for(r in t.menu)e.push(r);else for(r in o)e.push(r);for(s=typeof t.menubar=="string"?t.menubar.split(/[ ,]/):e,u=0;u<s.length;u++)i=s[u],i=l(i),i&&h.push(i);return h}function c(t){function i(n){var i=t.find(n)[0];i&&i.focus(!0)}n.shortcuts.add("Alt+F9","",function(){i("menubar")});n.shortcuts.add("Alt+F10","",function(){i("toolbar")});n.shortcuts.add("Alt+F11","",function(){i("elementpath")});t.on("cancel",function(){n.focus()})}function e(i,u){function h(n){return{width:n.clientWidth,height:n.clientHeight}}var e,f,o,s;e=n.getContainer();f=n.getContentAreaContainer().firstChild;o=h(e);s=h(f);i!==null&&(i=Math.max(t.min_width||100,i),i=Math.min(t.max_width||65535,i),r.setStyle(e,"width",i+(o.width-s.width)),r.setStyle(f,"width",i));u=Math.max(t.min_height||100,u);u=Math.min(t.max_height||65535,u);r.setStyle(f,"height",u);n.fire("ResizeEditor")}function a(t,r){var u=n.getContentAreaContainer();i.resizeTo(u.clientWidth+t,u.clientHeight+r)}function v(f){function v(){var t,i;if(e&&e.moveRel&&e.visible()&&!e._fixed){var u=n.selection.getScrollContainer(),f=n.getBody(),o=0,s=0;u&&(t=r.getPos(f),i=r.getPos(u),o=Math.max(0,i.x-t.x),s=Math.max(0,i.y-t.y));e.fixed(!1).moveRel(f,n.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(o,s)}}function l(){e&&(e.show(),v(),r.addClass(n.getBody(),"mce-edit-focus"))}function y(){e&&(e.hide(),r.removeClass(n.getBody(),"mce-edit-focus"))}function a(){if(e){e.visible()||l();return}e=i.panel=u.create({type:o?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!o,border:1,items:[t.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:h()},s()]});n.fire("BeforeRenderUI");e.renderTo(o||document.body).reflow();c(e);l();n.on("nodeChange",v);n.on("activate",l);n.on("deactivate",y);n.nodeChanged()}var e,o;t.fixed_toolbar_container&&(o=r.select(t.fixed_toolbar_container)[0]);t.content_editable=!0;n.on("focus",function(){f.skinUiCss?tinymce.DOM.styleSheetLoader.load(f.skinUiCss,a,a):a()});n.on("blur hide",y);n.on("remove",function(){e&&(e.remove(),e=null)});return f.skinUiCss&&tinymce.DOM.styleSheetLoader.load(f.skinUiCss),{}}function y(r){var f,l,o;r.skinUiCss&&tinymce.DOM.loadCSS(r.skinUiCss);f=i.panel=u.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[t.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:h()},s(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]});t.resize!==!1&&(l={type:"resizehandle",direction:t.resize,onResizeStart:function(){var t=n.getContentAreaContainer().firstChild;o={width:t.clientWidth,height:t.clientHeight}},onResize:function(n){t.resize=="both"?e(o.width+n.deltaX,o.height+n.deltaY):e(null,o.height+n.deltaY)}});t.statusbar!==!1&&f.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},l]});t.readonly&&f.find("*").disabled(!0);n.fire("BeforeRenderUI");f.renderBefore(r.targetNode).reflow();t.width&&tinymce.DOM.setStyle(f.getEl(),"width",t.width);n.on("remove",function(){f.remove();f=null});return c(f),{iframeContainer:f.find("#iframe")[0].getEl(),editorContainer:f.getEl()}}var i=this,t=n.settings,u=tinymce.ui.Factory,f=tinymce.each,r=tinymce.DOM,o={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},l="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";i.renderUI=function(r){var f=t.skin!==!1?t.skin||"lightgray":!1,u;f&&(u=t.skin_url,u=u?n.documentBaseURI.toAbsolute(u):tinymce.baseURL+"/skins/"+f,r.skinUiCss=tinymce.Env.documentMode<=7?u+"/skin.ie7.min.css":u+"/skin.min.css",n.contentCSS.push(u+"/content"+(n.inline?".inline":"")+".min.css"));n.on("ProgressState",function(n){i.throbber=i.throbber||new tinymce.ui.Throbber(i.panel.getEl("body"));n.state?i.throbber.show(n.time):i.throbber.hide()});return t.inline?v(r):y(r)};i.resizeTo=e;i.resizeBy=a});
//# sourceMappingURL=theme.min.js.map
